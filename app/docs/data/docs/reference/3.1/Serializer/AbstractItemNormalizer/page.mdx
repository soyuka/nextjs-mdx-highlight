---
type: Class
---

# [ApiPlatform\Serializer\AbstractItemNormalizer](/docs/v3.1/reference/Serializer/AbstractItemNormalizer)

Base item normalizer.


```php
class ApiPlatform\Serializer\AbstractItemNormalizer extends Symfony\Component\Serializer\Normalizer\AbstractObjectNormalizer implements Symfony\Component\Serializer\Normalizer\NormalizerInterface, Symfony\Component\Serializer\Normalizer\DenormalizerInterface, Symfony\Component\Serializer\SerializerAwareInterface, Symfony\Component\Serializer\Normalizer\CacheableSupportsMethodInterface
{
    public __construct(`<a href="/docs/v3.1/reference/Metadata/Property/Factory/PropertyNameCollectionFactoryInterface">ApiPlatform\Metadata\Property\Factory\PropertyNameCollectionFactoryInterface</a>` $propertyNameCollectionFactory, `<a href="/docs/v3.1/reference/Metadata/Property/Factory/PropertyMetadataFactoryInterface">ApiPlatform\Metadata\Property\Factory\PropertyMetadataFactoryInterface</a>` $propertyMetadataFactory, `<a href="/docs/v3.1/reference/Api/IriConverterInterface">ApiPlatform\Api\IriConverterInterface</a>` $iriConverter, `<a href="/docs/v3.1/reference/Api/ResourceClassResolverInterface">ApiPlatform\Api\ResourceClassResolverInterface</a>` $resourceClassResolver, null|Symfony\Component\PropertyAccess\PropertyAccessorInterface $propertyAccessor, null|Symfony\Component\Serializer\NameConverter\NameConverterInterface $nameConverter, null|Symfony\Component\Serializer\Mapping\Factory\ClassMetadataFactoryInterface $classMetadataFactory, array $defaultContext, null|`<a href="/docs/v3.1/reference/Metadata/Resource/Factory/ResourceMetadataCollectionFactoryInterface">ApiPlatform\Metadata\Resource\Factory\ResourceMetadataCollectionFactoryInterface</a>` $resourceMetadataCollectionFactory, null|`<a href="/docs/v3.1/reference/Symfony/Security/ResourceAccessCheckerInterface">ApiPlatform\Symfony\Security\ResourceAccessCheckerInterface</a>` $resourceAccessChecker)
    public supportsNormalization($data, null|string $format, array $context): bool
    public getSupportedTypes(null|string $format): array
    public hasCacheableSupportsMethod(): bool
    public normalize($object, null|string $format, array $context): ArrayObject|array|string|int|float|bool
    public supportsDenormalization($data, string $type, null|string $format, array $context): bool
    public denormalize($data, string $class, null|string $format, array $context)
    protected instantiateObject(array $data, string $class, array $context, ReflectionClass $reflectionClass, array|bool $allowedAttributes, null|string $format): object
    protected getClassDiscriminatorResolvedClass(array $data, string $class, array $context): string
    protected createConstructorArgument($parameterData, string $key, ReflectionParameter $constructorParameter, array $context, null|string $format)
    protected extractAttributes($object, $format, array $context): array&lt;int, string&gt;
    protected getAllowedAttributes(object|string $classOrObject, array $context, bool $attributesAsString): array|bool
    protected isAllowedAttribute(object|string $classOrObject, string $attribute, null|string $format, array $context): bool
    protected canAccessAttribute(null|object $object, string $attribute, array $context): bool
    protected canAccessAttributePostDenormalize(null|object $object, null|object $previousObject, string $attribute, array $context): bool
    protected setAttributeValue(object $object, string $attribute, $value, null|string $format, array $context): null
    protected validateType(string $attribute, Symfony\Component\PropertyInfo\Type $type, $value, null|string $format, array $context): null
    protected denormalizeCollection(string $attribute, `<a href="/docs/v3.1/reference/Metadata/ApiProperty">ApiPlatform\Metadata\ApiProperty</a>` $propertyMetadata, Symfony\Component\PropertyInfo\Type $type, string $className, $value, null|string $format, array $context): array
    protected denormalizeRelation(string $attributeName, `<a href="/docs/v3.1/reference/Metadata/ApiProperty">ApiPlatform\Metadata\ApiProperty</a>` $propertyMetadata, string $className, $value, null|string $format, array $context): object
    protected getFactoryOptions(array $context): array
    protected getAttributeValue(object $object, string $attribute, null|string $format, array $context)
    protected normalizeCollectionOfRelations(`<a href="/docs/v3.1/reference/Metadata/ApiProperty">ApiPlatform\Metadata\ApiProperty</a>` $propertyMetadata, iterable $attributeValue, string $resourceClass, null|string $format, array $context): array
    protected normalizeRelation(`<a href="/docs/v3.1/reference/Metadata/ApiProperty">ApiPlatform\Metadata\ApiProperty</a>` $propertyMetadata, null|object $relatedObject, string $resourceClass, null|string $format, array $context): ArrayObject|array|string
    protected getAttributes(object $object, null|string $format, array $context): array&lt;int, string&gt;
    protected denormalizeParameter(ReflectionClass $class, ReflectionParameter $parameter, string $parameterName, $parameterData, array $context, null|string $format)
    protected createChildContext(array $parentContext, string $attribute, null|string $format): array
    protected isCircularReference(object $object, array $context): bool
    protected handleCircularReference(object $object, null|string $format, array $context)
    protected getGroups(array $context): array
    protected prepareForDenormalization($data): array
    protected getConstructor(array $data, string $class, array $context, ReflectionClass $reflectionClass, array|bool $allowedAttributes): ReflectionMethod
    protected validateCallbackContext(array $context, string $contextType): null
    protected applyCallbacks($value, object|string $object, string $attribute, null|string $format, array $context)
    protected getAttributeNormalizationContext(object $object, string $attribute, array $context): array
    protected getAttributeDenormalizationContext(string $class, string $attribute, array $context): array
    protected getAttributeMetadata(object|string $objectOrClass, string $attribute): Symfony\Component\Serializer\Mapping\AttributeMetadataInterface
    protected extractObjectToPopulate(string $class, array $context, null|string $key): object
    public setSerializer(Symfony\Component\Serializer\SerializerInterface $serializer): null
    public clone($data)
    protected getInputClass(array $context): string
    protected getOutputClass(array $context): string
    protected createOperationContext(array $context, null|string $resourceClass): array
}
```
## Properties
### propertyAccessor

```php
Symfony\Component\PropertyAccess\PropertyAccessorInterface $propertyAccessor
```



### localCache

```php
array $localCache
```



### localFactoryOptionsCache

```php
array $localFactoryOptionsCache
```



### propertyNameCollectionFactory

```php
`<a href="/docs/v3.1/reference/Metadata/Property/Factory/PropertyNameCollectionFactoryInterface">ApiPlatform\Metadata\Property\Factory\PropertyNameCollectionFactoryInterface</a>` $propertyNameCollectionFactory
```



### propertyMetadataFactory

```php
`<a href="/docs/v3.1/reference/Metadata/Property/Factory/PropertyMetadataFactoryInterface">ApiPlatform\Metadata\Property\Factory\PropertyMetadataFactoryInterface</a>` $propertyMetadataFactory
```



### iriConverter

```php
`<a href="/docs/v3.1/reference/Api/IriConverterInterface">ApiPlatform\Api\IriConverterInterface</a>` $iriConverter
```



### resourceClassResolver

```php
`<a href="/docs/v3.1/reference/Api/ResourceClassResolverInterface">ApiPlatform\Api\ResourceClassResolverInterface</a>` $resourceClassResolver
```



### resourceAccessChecker

```php
`<a href="/docs/v3.1/reference/Symfony/Security/ResourceAccessCheckerInterface">ApiPlatform\Symfony\Security\ResourceAccessCheckerInterface</a>` $resourceAccessChecker
```



### classDiscriminatorResolver

```php
Symfony\Component\Serializer\Mapping\ClassDiscriminatorResolverInterface $classDiscriminatorResolver
```



### defaultContext

```php
$defaultContext
```



### classMetadataFactory

```php
Symfony\Component\Serializer\Mapping\Factory\ClassMetadataFactoryInterface $classMetadataFactory
```



### nameConverter

```php
Symfony\Component\Serializer\NameConverter\NameConverterInterface $nameConverter
```



### serializer

```php
Symfony\Component\Serializer\Normalizer\SerializerInterface $serializer
```



### resourceMetadataCollectionFactory

```php
`<a href="/docs/v3.1/reference/Metadata/Resource/Factory/ResourceMetadataCollectionFactoryInterface">ApiPlatform\Metadata\Resource\Factory\ResourceMetadataCollectionFactoryInterface</a>` $resourceMetadataCollectionFactory
```



## Methods

### __construct



```php
public __construct(`<a href="/docs/v3.1/reference/Metadata/Property/Factory/PropertyNameCollectionFactoryInterface">ApiPlatform\Metadata\Property\Factory\PropertyNameCollectionFactoryInterface</a>` $propertyNameCollectionFactory, `<a href="/docs/v3.1/reference/Metadata/Property/Factory/PropertyMetadataFactoryInterface">ApiPlatform\Metadata\Property\Factory\PropertyMetadataFactoryInterface</a>` $propertyMetadataFactory, `<a href="/docs/v3.1/reference/Api/IriConverterInterface">ApiPlatform\Api\IriConverterInterface</a>` $iriConverter, `<a href="/docs/v3.1/reference/Api/ResourceClassResolverInterface">ApiPlatform\Api\ResourceClassResolverInterface</a>` $resourceClassResolver, null|Symfony\Component\PropertyAccess\PropertyAccessorInterface $propertyAccessor, null|Symfony\Component\Serializer\NameConverter\NameConverterInterface $nameConverter, null|Symfony\Component\Serializer\Mapping\Factory\ClassMetadataFactoryInterface $classMetadataFactory, array $defaultContext, null|`<a href="/docs/v3.1/reference/Metadata/Resource/Factory/ResourceMetadataCollectionFactoryInterface">ApiPlatform\Metadata\Resource\Factory\ResourceMetadataCollectionFactoryInterface</a>` $resourceMetadataCollectionFactory, null|`<a href="/docs/v3.1/reference/Symfony/Security/ResourceAccessCheckerInterface">ApiPlatform\Symfony\Security\ResourceAccessCheckerInterface</a>` $resourceAccessChecker)
```

#### Parameters

<table><tbody>
<tr><td>propertyNameCollectionFactory</td><td>`<a href="/docs/v3.1/reference/Metadata/Property/Factory/PropertyNameCollectionFactoryInterface">ApiPlatform\Metadata\Property\Factory\PropertyNameCollectionFactoryInterface</a>`</td><td></td></tr><tr><td>propertyMetadataFactory</td><td>`<a href="/docs/v3.1/reference/Metadata/Property/Factory/PropertyMetadataFactoryInterface">ApiPlatform\Metadata\Property\Factory\PropertyMetadataFactoryInterface</a>`</td><td></td></tr><tr><td>iriConverter</td><td>`<a href="/docs/v3.1/reference/Api/IriConverterInterface">ApiPlatform\Api\IriConverterInterface</a>`</td><td></td></tr><tr><td>resourceClassResolver</td><td>`<a href="/docs/v3.1/reference/Api/ResourceClassResolverInterface">ApiPlatform\Api\ResourceClassResolverInterface</a>`</td><td></td></tr><tr><td>propertyAccessor</td><td>Symfony\Component\PropertyAccess\PropertyAccessorInterface</td><td></td></tr><tr><td>nameConverter</td><td>Symfony\Component\Serializer\NameConverter\NameConverterInterface</td><td></td></tr><tr><td>classMetadataFactory</td><td>Symfony\Component\Serializer\Mapping\Factory\ClassMetadataFactoryInterface</td><td></td></tr><tr><td>defaultContext</td><td>array</td><td></td></tr><tr><td>resourceMetadataCollectionFactory</td><td>`<a href="/docs/v3.1/reference/Metadata/Resource/Factory/ResourceMetadataCollectionFactoryInterface">ApiPlatform\Metadata\Resource\Factory\ResourceMetadataCollectionFactoryInterface</a>`</td><td></td></tr><tr><td>resourceAccessChecker</td><td>`<a href="/docs/v3.1/reference/Symfony/Security/ResourceAccessCheckerInterface">ApiPlatform\Symfony\Security\ResourceAccessCheckerInterface</a>`</td><td></td></tr>
</tbody>
</table>

### supportsNormalization

Checks whether the given class is supported for normalization by this normalizer.

```php
public supportsNormalization($data, null|string $format, array $context): bool
```

#### Parameters

<table><tbody>
<tr><td>data</td><td></td><td></td></tr><tr><td>format</td><td>string</td><td></td></tr><tr><td>context</td><td>array</td><td></td></tr>
</tbody>
</table>

#### Returns

bool

### getSupportedTypes



```php
public getSupportedTypes(null|string $format): array
```

#### Parameters

<table><tbody>
<tr><td>format</td><td>string</td><td></td></tr>
</tbody>
</table>

#### Returns

array

### hasCacheableSupportsMethod



```php
public hasCacheableSupportsMethod(): bool
```

#### Returns

bool

### normalize

Normalizes an object into a set of arrays/scalars.

```php
public normalize($object, null|string $format, array $context): ArrayObject|array|string|int|float|bool
```

#### Parameters

<table><tbody>
<tr><td>object</td><td></td><td></td></tr><tr><td>format</td><td>string</td><td></td></tr><tr><td>context</td><td>array</td><td></td></tr>
</tbody>
</table>

#### Returns

ArrayObject<br />array<br />string<br />int<br />float<br />bool

### supportsDenormalization

Checks whether the given class is supported for denormalization by this normalizer.

```php
public supportsDenormalization($data, string $type, null|string $format, array $context): bool
```

#### Parameters

<table><tbody>
<tr><td>data</td><td></td><td></td></tr><tr><td>type</td><td>string</td><td></td></tr><tr><td>format</td><td>string</td><td></td></tr><tr><td>context</td><td>array</td><td></td></tr>
</tbody>
</table>

#### Returns

bool

### denormalize

Denormalizes data back into an object of the given class.

```php
public denormalize($data, string $class, null|string $format, array $context)
```

#### Parameters

<table><tbody>
<tr><td>data</td><td></td><td></td></tr><tr><td>class</td><td>string</td><td></td></tr><tr><td>format</td><td>string</td><td></td></tr><tr><td>context</td><td>array</td><td></td></tr>
</tbody>
</table>

#### Returns



### instantiateObject

Method copy-pasted from symfony/serializer.
Remove it after symfony/serializer version update @see https://github.com/symfony/symfony/pull/28263.

```php
protected instantiateObject(array $data, string $class, array $context, ReflectionClass $reflectionClass, array|bool $allowedAttributes, null|string $format): object
```

#### Parameters

<table><tbody>
<tr><td>data</td><td>array</td><td></td></tr><tr><td>class</td><td>string</td><td></td></tr><tr><td>context</td><td>array</td><td></td></tr><tr><td>reflectionClass</td><td>ReflectionClass</td><td></td></tr><tr><td>allowedAttributes</td><td>array<br />bool</td><td></td></tr><tr><td>format</td><td>string</td><td></td></tr>
</tbody>
</table>

#### Returns

object

### getClassDiscriminatorResolvedClass



```php
protected getClassDiscriminatorResolvedClass(array $data, string $class, array $context): string
```

#### Parameters

<table><tbody>
<tr><td>data</td><td>array</td><td></td></tr><tr><td>class</td><td>string</td><td></td></tr><tr><td>context</td><td>array</td><td></td></tr>
</tbody>
</table>

#### Returns

string

### createConstructorArgument



```php
protected createConstructorArgument($parameterData, string $key, ReflectionParameter $constructorParameter, array $context, null|string $format)
```

#### Parameters

<table><tbody>
<tr><td>parameterData</td><td></td><td></td></tr><tr><td>key</td><td>string</td><td></td></tr><tr><td>constructorParameter</td><td>ReflectionParameter</td><td></td></tr><tr><td>context</td><td>array</td><td></td></tr><tr><td>format</td><td>string</td><td></td></tr>
</tbody>
</table>

#### Returns



### extractAttributes

Extracts attributes to normalize from the class of the given object, format and context.Unused in this context.

```php
protected extractAttributes($object, $format, array $context): array&lt;int, string&gt;
```

#### Parameters

<table><tbody>
<tr><td>object</td><td></td><td></td></tr><tr><td>format</td><td></td><td></td></tr><tr><td>context</td><td>array</td><td></td></tr>
</tbody>
</table>

#### Returns

array&lt;int, string&gt;

### getAllowedAttributes

Gets attributes to normalize using groups.

```php
protected getAllowedAttributes(object|string $classOrObject, array $context, bool $attributesAsString): array|bool
```

#### Parameters

<table><tbody>
<tr><td>classOrObject</td><td>object<br />string</td><td></td></tr><tr><td>context</td><td>array</td><td></td></tr><tr><td>attributesAsString</td><td>bool</td><td></td></tr>
</tbody>
</table>

#### Returns

array<br />bool

### isAllowedAttribute

Is this attribute allowed?

```php
protected isAllowedAttribute(object|string $classOrObject, string $attribute, null|string $format, array $context): bool
```

#### Parameters

<table><tbody>
<tr><td>classOrObject</td><td>object<br />string</td><td></td></tr><tr><td>attribute</td><td>string</td><td></td></tr><tr><td>format</td><td>string</td><td></td></tr><tr><td>context</td><td>array</td><td></td></tr>
</tbody>
</table>

#### Returns

bool

### canAccessAttribute

Check if access to the attribute is granted.

```php
protected canAccessAttribute(null|object $object, string $attribute, array $context): bool
```

#### Parameters

<table><tbody>
<tr><td>object</td><td>object</td><td></td></tr><tr><td>attribute</td><td>string</td><td></td></tr><tr><td>context</td><td>array</td><td></td></tr>
</tbody>
</table>

#### Returns

bool

### canAccessAttributePostDenormalize

Check if access to the attribute is granted.

```php
protected canAccessAttributePostDenormalize(null|object $object, null|object $previousObject, string $attribute, array $context): bool
```

#### Parameters

<table><tbody>
<tr><td>object</td><td>object</td><td></td></tr><tr><td>previousObject</td><td>object</td><td></td></tr><tr><td>attribute</td><td>string</td><td></td></tr><tr><td>context</td><td>array</td><td></td></tr>
</tbody>
</table>

#### Returns

bool

### setAttributeValue



```php
protected setAttributeValue(object $object, string $attribute, $value, null|string $format, array $context): null
```

#### Parameters

<table><tbody>
<tr><td>object</td><td>object</td><td></td></tr><tr><td>attribute</td><td>string</td><td></td></tr><tr><td>value</td><td></td><td></td></tr><tr><td>format</td><td>string</td><td></td></tr><tr><td>context</td><td>array</td><td></td></tr>
</tbody>
</table>

#### Returns

null

### validateType

Validates the type of the value. Allows using integers as floats for JSON formats.

```php
protected validateType(string $attribute, Symfony\Component\PropertyInfo\Type $type, $value, null|string $format, array $context): null
```

#### Parameters

<table><tbody>
<tr><td>attribute</td><td>string</td><td></td></tr><tr><td>type</td><td>Symfony\Component\PropertyInfo\Type</td><td></td></tr><tr><td>value</td><td></td><td></td></tr><tr><td>format</td><td>string</td><td></td></tr><tr><td>context</td><td>array</td><td></td></tr>
</tbody>
</table>

#### Returns

null

### denormalizeCollection

Denormalizes a collection of objects.

```php
protected denormalizeCollection(string $attribute, `<a href="/docs/v3.1/reference/Metadata/ApiProperty">ApiPlatform\Metadata\ApiProperty</a>` $propertyMetadata, Symfony\Component\PropertyInfo\Type $type, string $className, $value, null|string $format, array $context): array
```

#### Parameters

<table><tbody>
<tr><td>attribute</td><td>string</td><td></td></tr><tr><td>propertyMetadata</td><td>`<a href="/docs/v3.1/reference/Metadata/ApiProperty">ApiPlatform\Metadata\ApiProperty</a>`</td><td></td></tr><tr><td>type</td><td>Symfony\Component\PropertyInfo\Type</td><td></td></tr><tr><td>className</td><td>string</td><td></td></tr><tr><td>value</td><td></td><td></td></tr><tr><td>format</td><td>string</td><td></td></tr><tr><td>context</td><td>array</td><td></td></tr>
</tbody>
</table>

#### Returns

array

### denormalizeRelation

Denormalizes a relation.

```php
protected denormalizeRelation(string $attributeName, `<a href="/docs/v3.1/reference/Metadata/ApiProperty">ApiPlatform\Metadata\ApiProperty</a>` $propertyMetadata, string $className, $value, null|string $format, array $context): object
```

#### Parameters

<table><tbody>
<tr><td>attributeName</td><td>string</td><td></td></tr><tr><td>propertyMetadata</td><td>`<a href="/docs/v3.1/reference/Metadata/ApiProperty">ApiPlatform\Metadata\ApiProperty</a>`</td><td></td></tr><tr><td>className</td><td>string</td><td></td></tr><tr><td>value</td><td></td><td></td></tr><tr><td>format</td><td>string</td><td></td></tr><tr><td>context</td><td>array</td><td></td></tr>
</tbody>
</table>

#### Returns

object

### getFactoryOptions

Gets the options for the property name collection / property metadata factories.

```php
protected getFactoryOptions(array $context): array
```

#### Parameters

<table><tbody>
<tr><td>context</td><td>array</td><td></td></tr>
</tbody>
</table>

#### Returns

array

### getAttributeValue

Gets the attribute value.

```php
protected getAttributeValue(object $object, string $attribute, null|string $format, array $context)
```

#### Parameters

<table><tbody>
<tr><td>object</td><td>object</td><td></td></tr><tr><td>attribute</td><td>string</td><td></td></tr><tr><td>format</td><td>string</td><td></td></tr><tr><td>context</td><td>array</td><td></td></tr>
</tbody>
</table>

#### Returns



### normalizeCollectionOfRelations

Normalizes a collection of relations (to-many).

```php
protected normalizeCollectionOfRelations(`<a href="/docs/v3.1/reference/Metadata/ApiProperty">ApiPlatform\Metadata\ApiProperty</a>` $propertyMetadata, iterable $attributeValue, string $resourceClass, null|string $format, array $context): array
```

#### Parameters

<table><tbody>
<tr><td>propertyMetadata</td><td>`<a href="/docs/v3.1/reference/Metadata/ApiProperty">ApiPlatform\Metadata\ApiProperty</a>`</td><td></td></tr><tr><td>attributeValue</td><td>iterable</td><td></td></tr><tr><td>resourceClass</td><td>string</td><td></td></tr><tr><td>format</td><td>string</td><td></td></tr><tr><td>context</td><td>array</td><td></td></tr>
</tbody>
</table>

#### Returns

array

### normalizeRelation

Normalizes a relation.

```php
protected normalizeRelation(`<a href="/docs/v3.1/reference/Metadata/ApiProperty">ApiPlatform\Metadata\ApiProperty</a>` $propertyMetadata, null|object $relatedObject, string $resourceClass, null|string $format, array $context): ArrayObject|array|string
```

#### Parameters

<table><tbody>
<tr><td>propertyMetadata</td><td>`<a href="/docs/v3.1/reference/Metadata/ApiProperty">ApiPlatform\Metadata\ApiProperty</a>`</td><td></td></tr><tr><td>relatedObject</td><td>object</td><td></td></tr><tr><td>resourceClass</td><td>string</td><td></td></tr><tr><td>format</td><td>string</td><td></td></tr><tr><td>context</td><td>array</td><td></td></tr>
</tbody>
</table>

#### Returns

ArrayObject<br />array<br />string

### clone



```php
public clone($data)
```

#### Parameters

<table><tbody>
<tr><td>data</td><td></td><td></td></tr>
</tbody>
</table>

#### Returns



### getInputClass



```php
protected getInputClass(array $context): string
```

#### Parameters

<table><tbody>
<tr><td>context</td><td>array</td><td></td></tr>
</tbody>
</table>

#### Returns

string

### getOutputClass



```php
protected getOutputClass(array $context): string
```

#### Parameters

<table><tbody>
<tr><td>context</td><td>array</td><td></td></tr>
</tbody>
</table>

#### Returns

string

### createOperationContext

This context is created when working on a relation context or items of a collection. It cleans the previously given
context as the operation changes.

```php
protected createOperationContext(array $context, null|string $resourceClass): array
```

#### Parameters

<table><tbody>
<tr><td>context</td><td>array</td><td></td></tr><tr><td>resourceClass</td><td>string</td><td></td></tr>
</tbody>
</table>

#### Returns

array
